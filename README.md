# CouponFit Commerce 🎫

> 대규모 쿠폰 처리가 가능한 이커머스 플랫폼

## 🎯 프로젝트 소개

**고객당 N천 장의 쿠폰을 보유하고, 상품-쿠폰 최적 매칭을 1초 내 제공하는 이커머스 플랫폼**입니다.

### 핵심 목표

| 목표 | 설명 |
|------|------|
| **대규모 쿠폰 관리** | 고객당 수천 장의 쿠폰 보유 및 관리 |
| **최적 매칭 1초** | 장바구니 상품에 최대 할인 쿠폰 조합을 1초 내 계산 |
| **복합 쿠폰 적용** | 상품별 쿠폰 + 장바구니 쿠폰 중복 적용 |

### 왜 이 프로젝트인가?

실제 이커머스에서 자주 마주치는 기술적 챌린지를 직접 설계하고 해결합니다:
- 다양한 조건의 쿠폰 중 최적 조합 찾기
- 대량 쿠폰 데이터에서의 빠른 조회
- 주문 취소/부분 취소 시 쿠폰 안분 계산

---

## 🛠 기술 스택

| Category | Stack |
|----------|-------|
| **Language** | Java 17 |
| **Framework** | Spring Boot 3.x |
| **ORM** | Spring Data JPA |
| **Database** | MySQL 8.x |
| **Cache** | Redis |
| **Auth** | Spring Security + OAuth2 (카카오, 네이버) |
| **Payment** | 토스페이먼츠 |
| **Infra** | Docker, Docker Compose |
| **CI/CD** | GitHub Actions |

---

## 📦 도메인 구조

```
CouponFit Commerce
├── 회원 (Member)
│   ├── 이메일/소셜 로그인 (카카오, 네이버)
│   └── 3단계 등급 시스템
│
├── 상품 (Product)
│   ├── 브랜드 입점형
│   ├── 3단계 카테고리
│   └── 복합 옵션 (색상 + 사이즈)
│
├── 쿠폰 (Coupon) ⭐ 핵심
│   ├── 상품 쿠폰 / 장바구니 쿠폰
│   ├── 정액 / 정률 할인
│   ├── 다양한 적용 조건
│   └── 최적 매칭 알고리즘
│
├── 장바구니 (Cart)
│   ├── 비회원 지원
│   └── 로그인 시 장바구니 합침
│
└── 주문 (Order)
    ├── 토스페이먼츠 연동
    ├── 취소 / 부분취소
    └── 쿠폰 안분 계산
```

---

## ⭐ 핵심 기능

### 1. 쿠폰 최적 매칭 (1초 내 응답)

```
장바구니: 상품 A, B, C
보유 쿠폰: 1,000장

→ 각 상품에 어떤 쿠폰?
→ 장바구니 전체에 어떤 쿠폰?
→ 최대 할인 조합 = ?

✅ 1초 내 최적 조합 제공
```

### 2. 복합 쿠폰 적용

```
상품 A → 브랜드 10% 쿠폰
상품 B → 카테고리 5,000원 쿠폰
상품 C → 상품 전용 15% 쿠폰
+ 장바구니 전체 → 10,000원 쿠폰

= 모두 중복 적용 가능
```

### 3. 다양한 쿠폰 조건

| 조건 | 예시 |
|------|------|
| 전체 상품 | 모든 상품 10% 할인 |
| 특정 브랜드 | A브랜드 전용 5,000원 |
| 특정 카테고리 | 상의 카테고리 15% |
| 특정 상품 | 신상품 전용 쿠폰 |
| 회원 등급 | VIP 전용 20% |
| 첫 구매 | 첫 구매 고객 한정 |

### 4. 취소 시 쿠폰 안분 계산

```
[부분 취소 시]
티셔츠 3개 (10% 쿠폰 적용) → 1개 취소

Before: 3개에 9,000원 할인
After:  2개에 6,000원 할인 (안분 계산)
```

---

## 📚 개발 기록

프로젝트를 진행하며 마주친 문제와 해결 과정을 블로그에 기록합니다.

**🔗 [Run by Fittcha](https://fittcha.github.io)**

> 트러블을 만난다면, 이곳에 슈팅됩니다 🔫

---

## 🚧 진행 상황

- [x] 프로젝트 기획
- [x] 도메인 정책 정의
- [ ] ERD 설계
- [ ] API 명세 작성
- [ ] 개발 환경 세팅
- [ ] 회원 도메인 개발
- [ ] 상품 도메인 개발
- [ ] 쿠폰 도메인 개발
- [ ] 장바구니 도메인 개발
- [ ] 주문 도메인 개발
- [ ] 배포

---

## 📄 문서

- [정책 문서](./docs/POLICY.md) *(예정)*
- [ERD](./docs/ERD.md) *(예정)*
- [API 명세](./docs/API.md) *(예정)*


